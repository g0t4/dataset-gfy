{"top_p":1,"max_tokens":4096,"temperature":1,"model":"","messages":[{"content":"You are an expert coder. Ground rules:\n- Follow the user's instructions. \n- DO NOT wrap answers in markdown code blocks, which means no triple backticks like ``` nor single backtick like ` .\n- Do not explain answers, just give me code. \n- Never add comments to the end of a line. \n- Never add comments.\n- Preserve indentation. \n- If rewriting code, preserve unrelated code. \n- Prefer readable code over of comments. ","role":"system"},{"content":"## Recent yanks across all files in the project:\n.. yanked from auto_edit/new_silence/player/plot_helpers.py:\n@dataclass(frozen=True)\nclass XLimits:\n    start: float\n    end: float\n    width: float\n\nclass SegmentPlotter:\n    # existing methods ...\n\n    def get_x_limits(self) -> XLimits:\n        start, end = self.ax.get_xlim()\n        return XLimits(start=start, end=end, width=end - start)\n\n\n.. yanked from auto_edit/new_silence/player/plot_helpers.py:\n        cur = self.get_x_limits()\n        half = cur.width / 2\n\n.. yanked from auto_edit/new_silence/player/plot_helpers.py:\n        cur = self.get_x_limits()\n        middle = (cur.start + cur.end) / 2\n        half = width_seconds / 2\n        self.set_x_limits(middle - half, middle + half)\n\n.. yanked from auto_edit/new_silence/player/plot_helpers.py:\nget_x_limits\n\n.. yanked from auto_edit/new_silence/player/plot_helpers.py:\nplotter.set_x_limits\n\n.. yanked from auto_edit/new_silence/player/plot_helpers.py:\nplotter.set_x_limits\n\n.. yanked from auto_edit/new_silence/player/plot_helpers.py:\nplotter.set_x_limits\n\n","role":"user"},{"content":"## General Code Preferences\n\n- When rewriting code, leave unrelated code and unrelated comments as is.\n- When an if statement has an AMBIGUOUS condition, extract a variable to meaningfully name it, for example:\n```lua\nlocal is_blank_line = line:match(\"^%s*$\")\nif is_blank_line then\n    -- ...\nend\n```\n","role":"user"},{"content":"## Python Code Preferences\n\nNaming\n- Use snake_case for functions and variables.\n- Use PascalCase for classes.\n\nType Hints\n- Use type hints to clear up ambiguity and improve code completion.\n- prefer list[] over List[] to mimimizes imports\n- Avoid docstrings, ABSOLUTELY NO trivial comments.\n","role":"user"},{"content":"# Semantic Grep matches: 5\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/segment_plotter.py:306-311\ndef set_x_limits(self, start_seconds: float, end_seconds: float) -> None:\n        if start_seconds >= end_seconds:\n            rich.print(f\"Invalid x limits: start_seconds ({start_seconds}) >= end_seconds ({end_seconds})\")\n            return\n        self.ax.set_xlim(start_seconds, end_seconds)\n        self.toggle_zoom_level_elements()\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/segment_plotter.py:332-333\ndef zoom_to_window(self, window: GapWindow) -> None:\n        self.set_x_limits(window.start_seconds(), window.end_seconds())\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/segment_plotter.py:341-343\ndef shift_center_to(self, middle_seconds: float):\n        cur = self.get_x_limits()\n        self.set_x_limits(middle_seconds - cur.half, middle_seconds + cur.half)\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/segment_plotter.py:335-339\ndef zoom_and_center_to(self, new_width_seconds: float) -> None:\n        \"\"\"Zoom the plot to a fixed width centered on the current view.\"\"\"\n        cur = self.get_x_limits()\n        half = new_width_seconds / 2\n        self.set_x_limits(cur.middle - half, cur.middle + half)\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/segment_plotter.py:23-38\n@dataclass(frozen=True)\nclass XLimits:\n    start: float\n    end: float\n\n    @property\n    def width(self) -> float:\n        return self.end - self.start\n\n    @property\n    def middle(self) -> float:\n        return (self.start + self.end) / 2\n\n    @property\n    def half(self) -> float:\n        return self.width / 2\n","role":"user"},{"content":"use new XLimits and get_x_limits()\nHere is code I selected (with carefully preserved indentation) from auto_edit/new_silence/player/plot_helpers.py:\n    def pan_to_start(event: KeyEvent):\n        cur_xlim = plotter.ax.get_xlim()\n        width = cur_xlim[1] - cur_xlim[0]\n        start_time = plotter.segments[0].start_seconds\n        plotter.set_x_limits(start_time, width)\n\n    def pan_to_end(event: KeyEvent):\n        cur_xlim = plotter.ax.get_xlim()\n        width = cur_xlim[1] - cur_xlim[0]\n        end_time = plotter.segments[-1].end_seconds\n        plotter.set_x_limits(end_time - width, end_time)","role":"user"}],"stream":true,"chat_template_kwargs":{"reasoning_effort":"low"}}