{"top_p":1,"temperature":1,"stream":true,"messages":[{"content":"You are an expert coder. Ground rules:\n- Follow the user's instructions. \n- DO NOT wrap answers in markdown code blocks, which means no triple backticks like ``` nor single backtick like ` .\n- Do not explain answers, just give me code. \n- Never add comments to the end of a line. \n- Never add comments.\n- Preserve indentation. \n- If rewriting code, preserve unrelated code. \n- Prefer readable code over of comments. ","role":"system"},{"content":"## Recent yanks across all files in the project:\n.. yanked from auto_edit/new_silence/player/segment_plotter.py:\n\n@dataclass(frozen=True)\nclass YLimits:\n    start: float\n    end: float\n\n    @property\n    def height(self) -> float:\n        return self.end - self.start\n\n    @property\n    def middle(self) -> float:\n        return (self.start + self.end) / 2\n\n    @property\n    def half(self) -> float:\n        return self.height / 2\n\n\ndef get_y_limits(self) -> YLimits:\n    y_start, y_end = self.ax.get_ylim()\n    return YLimits(start=y_start, end=y_end)\n\n\n","role":"user"},{"content":"## General Code Preferences\n\n- When rewriting code, leave unrelated code and unrelated comments as is.\n- When an if statement has an AMBIGUOUS condition, extract a variable to meaningfully name it, for example:\n```lua\nlocal is_blank_line = line:match(\"^%s*$\")\nif is_blank_line then\n    -- ...\nend\n```\n","role":"user"},{"content":"## Python Code Preferences\n\nNaming\n- Use snake_case for functions and variables.\n- Use PascalCase for classes.\n\nType Hints\n- Use type hints to clear up ambiguity and improve code completion.\n- prefer list[] over List[] to mimimizes imports\n- Avoid docstrings, ABSOLUTELY NO trivial comments.\n","role":"user"},{"content":"# Semantic Grep matches: 5\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/plot_helpers.py:278-295\ndef zoom_y_axis(event: KeyEvent):\n        # FYI unlike x-axis, no need for fast y-axis zooming\n        match event.key:\n            case \"ctrl+up\":\n                zoom_factor = 0.8\n            case \"ctrl+down\":\n                zoom_factor = 1 / 0.8\n            case _:\n                return\n        cur_ylim = plotter.ax.get_ylim()\n        new_height = (cur_ylim[1] - cur_ylim[0]) * zoom_factor\n        half = new_height / 2\n        # zoom in on the middle (middle stays in the middle) ...\n        # PRN zoom in on mouse position?\n        # - cursor => ratio => scale that ratio so the cursor's y-position points at the same thing before/after\n        # - DO NOT move the cursor's position to the middle?\n        middle = (cur_ylim[0] + cur_ylim[1]) / 2\n        plotter.set_y_limits(middle - half, middle + half)\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/plot_helpers.py:239-243\ndef pan_down(event: KeyEvent):\n        # old logic, might want to bring this back and move the frame_len shift to smth else\n        cur_ylim = plotter.ax.get_ylim()\n        shift = (cur_ylim[1] - cur_ylim[0]) * 0.1\n        plotter.set_y_limits(cur_ylim[0] - shift, cur_ylim[1] - shift)\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/plot_helpers.py:233-237\ndef pan_up(event: KeyEvent):\n        # old logic, might want to bring this back and move the frame_len shift to smth else\n        cur_ylim = plotter.ax.get_ylim()\n        shift = (cur_ylim[1] - cur_ylim[0]) * 0.1\n        plotter.set_y_limits(cur_ylim[0] + shift, cur_ylim[1] + shift)\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/plot_helpers.py:170-172\ndef pan_half_page_left(event: KeyEvent):\n        cur = plotter.get_x_limits()\n        plotter.set_x_limits(cur.start - cur.half, cur.end - cur.half)\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/plot_helpers.py:174-176\ndef pan_half_page_right(event: KeyEvent):\n        cur = plotter.get_x_limits()\n        plotter.set_x_limits(cur.start + cur.half, cur.end + cur.half)\n","role":"user"},{"content":"y limits uses bottom/top not start/end\nHere is code I selected (with carefully preserved indentation) from auto_edit/new_silence/player/segment_plotter.py:\n@dataclass(frozen=True)\nclass YLimits:\n    start: float\n    end: float\n\n    @property\n    def height(self) -> float:\n        return self.end - self.start\n\n    @property\n    def middle(self) -> float:\n        return (self.start + self.end) / 2\n\n    @property\n    def half(self) -> float:\n        return self.height / 2\n\ndef get_y_limits(self) -> YLimits:\n    y_start, y_end = self.ax.get_ylim()\n    return YLimits(start=y_start, end=y_end)","role":"user"}],"chat_template_kwargs":{"reasoning_effort":"low"},"max_tokens":4096,"model":""}