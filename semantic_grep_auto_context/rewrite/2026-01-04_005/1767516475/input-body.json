{"top_p":1,"temperature":1,"stream":true,"max_tokens":8192,"chat_template_kwargs":{"reasoning_effort":"medium"},"messages":[{"role":"system","content":"You are an expert coder. Ground rules:\n- Follow the user's instructions. \n- DO NOT wrap answers in markdown code blocks, which means no triple backticks like ``` nor single backtick like ` .\n- Do not explain answers, just give me code. \n- Never add comments to the end of a line. \n- Never add comments.\n- Preserve indentation. \n- If rewriting code, preserve unrelated code. \n- Prefer readable code over of comments. "},{"role":"user","content":"## General Code Preferences\n\n- When rewriting code, leave unrelated code and unrelated comments as is.\n- When an if statement has an AMBIGUOUS condition, extract a variable to meaningfully name it, for example:\n```lua\nlocal is_blank_line = line:match(\"^%s*$\")\nif is_blank_line then\n    -- ...\nend\n```\n"},{"role":"user","content":"## Python Code Preferences\n\nNaming\n- Use snake_case for functions and variables.\n- Use PascalCase for classes.\n\nType Hints\n- Use type hints to clear up ambiguity and improve code completion.\n- prefer list[] over List[] to mimimizes imports\n- Avoid docstrings, ABSOLUTELY NO trivial comments.\n"},{"role":"user","content":"# Semantic Grep matches: 5\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/segment_plotter.py:361-363\ndef shift_center_to(self, middle_seconds: float):\n        cur = self.get_x_limits()\n        self.set_x_limits(middle_seconds - cur.half, middle_seconds + cur.half)\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/segment_plotter.py:40-55\n@dataclass(frozen=True)\nclass YLimits:\n    bottom: float\n    top: float\n\n    @property\n    def height(self) -> float:\n        return self.top - self.bottom\n\n    @property\n    def middle(self) -> float:\n        return (self.bottom + self.top) / 2\n\n    @property\n    def half(self) -> float:\n        return self.height / 2\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/segment_plotter.py:355-359\ndef zoom_and_center_to(self, new_width_seconds: float) -> None:\n        \"\"\"Zoom the plot to a fixed width centered on the current view.\"\"\"\n        cur = self.get_x_limits()\n        half = new_width_seconds / 2\n        self.set_x_limits(cur.middle - half, cur.middle + half)\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/segment_plotter.py:0-17\nimport math\nfrom matplotlib.axes import Axes\nfrom matplotlib.figure import Figure\nimport matplotlib.pyplot as plt\nimport numpy as np\nimport rich\nimport sounddevice as sd\nimport time\nfrom dataclasses import dataclass\nfrom matplotlib.text import Annotation, Text\nfrom matplotlib.lines import Line2D\nfrom auto_edit.new_silence.player.clipper import clip_full_window\nfrom auto_edit.new_silence.player.crosshairs import ToggleableCursor\nfrom auto_edit.new_silence.player.plot_helpers import is_alt, is_ctrl, is_shift, setup_events\nfrom auto_edit.new_silence.detects.segments import AudioAnalysisResult, GapWindow, DetectedSegment, SegmentLabel\nfrom auto_edit.new_silence.player.prompter import applescript_prompt\nfrom auto_edit.new_silence.detects.breathing_state import clear_hop_items, hop_items\n\n\n\n## ~/repos/github/g0t4/private-auto-edit-suggests/auto_edit/new_silence/player/segment_plotter.py:23-38\n@dataclass(frozen=True)\nclass XLimits:\n    start: float\n    end: float\n\n    @property\n    def width(self) -> float:\n        return self.end - self.start\n\n    @property\n    def middle(self) -> float:\n        return (self.start + self.end) / 2\n\n    @property\n    def half(self) -> float:\n        return self.width / 2\n"},{"role":"user","content":"extract shared function like _pan_x_by_factor but for y\nHere is code I selected (with carefully preserved indentation) from auto_edit/new_silence/player/plot_helpers.py:\n    def pan_up(event: KeyEvent):\n        cur = plotter.get_y_limits()\n        shift = cur.height * 0.1\n        plotter.set_y_limits(cur.bottom + shift, cur.top + shift)\n\n    def pan_down(event: KeyEvent):\n        cur = plotter.get_y_limits()\n        shift = cur.height * 0.1\n        plotter.set_y_limits(cur.bottom - shift, cur.top - shift)\n"}],"model":""}