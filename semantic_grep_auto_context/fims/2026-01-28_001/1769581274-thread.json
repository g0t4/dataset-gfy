{
  "response_message":{
    "finish_reason":"stop",
    "reasoning_content":"We need to replace with the numeric difference: 82.6621 - 80.9416 = 1.7205? Compute: 82.6621 - 80.9416 = 1.7205. Probably format same decimals. So insert `1.7205`.",
    "role":"assistant",
    "content":"1.7205"
  },
  "last_sse":{
    "timings":{
      "predicted_per_second":209.3784572203,
      "predicted_n":74,
      "prompt_per_second":6562.8990450494,
      "prompt_n":6188,
      "prompt_ms":942.876,
      "prompt_per_token_ms":0.15237168713639,
      "predicted_ms":353.427,
      "predicted_per_token_ms":4.7760405405405,
      "cache_n":1112
    },
    "model":"ggml-org/gpt-oss-120b-GGUF",
    "choices":[{
        "finish_reason":"stop",
        "index":0,
        "delta":[]
      }],
    "id":"chatcmpl-WSIpTQvaf55r0ptvIh4yr1ngQcKHH07T",
    "object":"chat.completion.chunk",
    "system_fingerprint":"b7785-1c7cf94b2",
    "created":1769581274
  },
  "request_body":{
    "max_tokens":4096,
    "temperature":1,
    "model":"gpt-oss:120b",
    "options":[],
    "stream":true,
    "top_p":1,
    "chat_template_kwargs":{
      "reasoning_effort":"low"
    },
    "raw":false,
    "messages":[{
        "role":"developer",
        "content":"You are completing code from a Neovim plugin.\nAs the user types, the plugin suggests code completions based on their cursor position: <|fim_middle|>\n\nThe surrounding code is limited, it may not be the full file. Focus on the code near <|fim_middle|>\nDo NOT explain your decisions. Do NOT return markdown blocks ```\nONLY return valid code at the <|fim_middle|> position\nPAY attention to existing whitespace. Especially on the cursor line!\nYOU ARE ONLY INSERTING CODE. DO NOT REPEAT PREFIX. DO NOT REPEAT SUFFIX.\nComplete as little or as much code as is necessary to help the user. That means part of a line, a full line or even multiple lines! Goal is to help the user as much as is possible and reasonable.\n\nHere are a few examples of tricky completions:\n\n## Example: suggest middle of line (cursor has existing code before and after it)\n\n```python\ndef area(width, height):\n    return <|fim_middle|> * height\n```\n\nSay this is your desired result:\n```python\ndef area(width, height):\n    return width * height\n```\n\n1. thent he CORRECT completion is (do not include backticks, those are just to delimit included whitespace):\n`width`\n\n2. WRONG (because repeats the suffix):\n`width * height`\nresults in:\n`    return width * height * height`\n\n3. WRONG (because repeats both suffix and prefix):\n`    return width * height`\nresults in:\n`    return     return width * height * height`\n\n\n## Example: cursor is indented\n\n```lua\nfunction print_sign(number)\n    if number > 0 then\n        print(\"Positive\")\n    <|fim_middle|>\n    end\nend\n```\n\n*Keep in mind, the indent will be there before the suggested code too.*\n\nSay this is your desired result:\n```lua\nfunction print_sign(number)\n    if number > 0 then\n        print(\"Positive\")\n    else\n        print(\"Non‑positive\")\n    end\nend\n```\n\n1. then the CORRECT completion is:\n```lua\nelse\n        print(\"Non‑positive\")\n```\n\n2. WRONG (`else` ends up double indented when it should be single):\n```lua\n    else\n        print(\"Non‑positive\")\n```\nresults in:\n```lua\nfunction print_sign(number)\n    if number > 0 then\n        print(\"Positive\")\n        else\n        print(\"Non‑positive\")\n    end\nend\n```\n\n3. WRONG (`print` ends up single indented when it should be double):\n```lua\nelse\n    print(\"Non‑positive\")\n```\nresults in:\n```lua\nfunction print_sign(number)\n    if number > 0 then\n        print(\"Positive\")\n    else\n    print(\"Non‑positive\")\n    end\nend\n```\n\n\n"
      },{
        "role":"user",
        "content":"Here is context that's automatically provided, that MAY be relevant.\nrepo: auto-edit-suggests\n\n## General project code rules:\n- Never add comments to the end of a line.\n- NEVER add TODO comments for me.\n\n## General Code Preferences\n\n- When rewriting code, leave unrelated code and unrelated comments as is.\n- When an if statement has an AMBIGUOUS condition, extract a variable to meaningfully name it, for example:\n```lua\nlocal is_blank_line = line:match(\"^%s*$\")\nif is_blank_line then\n    -- ...\nend\n```\n\n\n## Python Code Preferences\n- Use snake_case for functions and variables.\n- Use PascalCase for classes.\n- Use type hints to clear up ambiguity and improve code completion.\n- prefer `list[]` over `List[]` to mimimize imports\n- Avoid docstrings, ABSOLUTELY NO trivial comments.\n\n\n\n## Recent yanks (copy to clipboard):\n```auto_edit/new_silence/tests/integration_tests.py\n54.350\n```\n\n```auto_edit/new_silence/detector_notebook.py\nshow_for(analysis5())\nplotter.zoom_to_gap_at_seconds(54.35)\n```\n\n```auto_edit/new_silence/detector_notebook.py\nplotter.zoom_to_gap_at_seconds(54.9260) # 55s mostly\n```\n\n```auto_edit/new_silence/detector_notebook.py\nplotter.zoom_to_gap_at_seconds(55.0833)\n# min0:54.9260s -57.6516dB | max1:54.9776s -49.9246dB | min2:55.0833s -82.6621dB | max3:55.0906s -80.9416dB | min4:55.1531s -91.6585dB\n```\n\n```auto_edit/new_silence/tests/integration_tests.py\n        only_single_breathing_hump(analysis5(), 54.3500, 54.7724)\n```\n\n```auto_edit/new_silence/tests/integration_tests.py\n82.6621dB\n```\n\n```auto_edit/new_silence/tests/integration_tests.py\n80.9416dB \n```\n\n```auto_edit/new_silence/tests/integration_tests.py\n        #   82.6621dB -  80.9416dB \n```\n\n"
      },{
        "role":"user",
        "content":"# Semantic Grep matches: 5\n\nThis is automatic context based on my request. These may or may not be relevant.\n## ~/repos/github/g0t4/auto-edit-suggests/auto_edit/new_silence/detects/learn.py:60-61\ndef to_db(value):\n    return 20 * np.log10(value)\n\n## ~/repos/github/g0t4/auto-edit-suggests/auto_edit/new_silence/detects/learn.py:63-67\ndef to_dbfs(value, full_scale_aka_max_possible_value):\n    # assuming value <= max_value => then result <= 0 (negative)\n    #  b/c log10(1) == 0 (aka 10^0 == 1)\n    #  and log10(0 < value < 1) => -negative\n    return to_db(value / full_scale_aka_max_possible_value)\n\n## ~/repos/github/g0t4/auto-edit-suggests/auto_edit/new_silence/detects/learn.py:67-86\n\n\ndef test_db():\n\n    # ***! dB (no ref)\n    # 20*log10(x)\n    # 0, 20, 40, 60\n    values = np.array([1., 10., 100., 1000.])\n    lr_db = librosa.amplitude_to_db(S=values)  # no ref == NOT dBFS\n    print(f'{lr_db=}')\n    my_db = [to_db(v) for v in values]\n    print(f'{my_db=}')\n    assert np.allclose(my_db, lr_db)\n\n    # ***! dBFS\n    # 20*log10(1/1000) = 20*10^-3\n    # 20*10^-3, 20*10^-2, 20*10^-1, 20\n    # -60, -40, -20, 0\n    ref = 1000.\n    lr_dbfs = librosa.amplitude_to_db(S=values, ref=ref)\n\n\n## ~/repos/github/g0t4/auto-edit-suggests/auto_edit/new_silence/detect.py:41-51\ndef derive_percentile_based_thresholds(db: Float32Array) -> DetectThresholds:\n    # ?? try diff levels for better detection of talking vs not\n    quiet: np.float32 = np.percentile(db, 20)  # lower-energy (breathing, silence)\n    mid: np.float32 = np.percentile(db, 60)  # typical speech\n\n    # Silence is deeper than \"quiet\"\n    silence = quiet - 6  # ~6 dB below quiet zone\n    breath = (quiet + mid) / 2\n    rich.print(f'{silence=} {breath=}')\n\n    return DetectThresholds(silence=silence, breath=breath)\n\n## ~/repos/github/g0t4/auto-edit-suggests/auto_edit/new_silence/detects/learn.py:69-102\ndef test_db():\n\n    # ***! dB (no ref)\n    # 20*log10(x)\n    # 0, 20, 40, 60\n    values = np.array([1., 10., 100., 1000.])\n    lr_db = librosa.amplitude_to_db(S=values)  # no ref == NOT dBFS\n    print(f'{lr_db=}')\n    my_db = [to_db(v) for v in values]\n    print(f'{my_db=}')\n    assert np.allclose(my_db, lr_db)\n\n    # ***! dBFS\n    # 20*log10(1/1000) = 20*10^-3\n    # 20*10^-3, 20*10^-2, 20*10^-1, 20\n    # -60, -40, -20, 0\n    ref = 1000.\n    lr_dbfs = librosa.amplitude_to_db(S=values, ref=ref)\n    print(f'{lr_dbfs=}')\n    my_dbfs = to_dbfs(values, full_scale_aka_max_possible_value=ref)\n    print(f'{my_dbfs=}')\n    assert np.allclose(my_dbfs, lr_dbfs)\n\n    # ***! dBFS where FULL SCALE == 100_000\n    # same inputs => diff dB values b/c \"full scale\" definition has changed\n    #  this is a RELATIVE SCALE\n    ref = 100_000.\n    lr_dbfs = librosa.amplitude_to_db(S=values, ref=ref)\n    print(f'{lr_dbfs=}')\n    my_dbfs = to_dbfs(values, full_scale_aka_max_possible_value=ref)\n    print(f'{my_dbfs=}')\n    assert np.allclose(my_dbfs, lr_dbfs)\n\n    # TIP => set ref = MAX_POSSIBLE_VALUE_NORMALIZED_AUDIO (not just max value of a given set of values)\n"
      },{
        "role":"user",
        "content":"Please suggest text to replace <|fim_middle|>:\n\n```auto_edit/new_silence/tests/integration_tests.py\n    assert not window.breathing\n\nclass TestLongSectionsNoBreathing:\n\n    def test_minute6_long_sections(self):\n        # min0:8.9089s -89.2260dB | max1:8.9521s -79.9549dB | min2:9.0016s -89.7787dB | max3:9.0448s -73.2235dB | min4:9.0734s -83.0381dB | max5:9.1693s -42.3624dB | min6:9.2380s -72.8216dB | max7:9.3219s -49.9901dB | min8:9.3891s -79.9711dB | max9:9.4568s -56.9356dB | min10:9.5359s -78.7273dB | max11:9.5620s -70.9258dB | min12:9.6464s -91.5302dB | max13:9.8016s -45.1781dB | min14:9.8833s -79.1030dB\n        only_long_section_no_breathing(analysis6(), 8.9089, 9.6464)\n        # min0:33.3042s -57.7613dB | max1:33.3479s -32.8488dB | min2:33.4292s -76.3436dB | max3:33.4740s -74.1130dB | min4:33.7281s -93.7528dB | max5:33.9917s -67.0779dB | min6:34.1073s -93.7528dB | max7:34.4703s -82.3242dB | min8:34.5307s -93.7528dB\n        only_long_section_no_breathing(analysis6(), 33.4292, 34.5307)\n\n    def test_minute8(self):\n        # min0:5.2818s -49.2369dB | max1:5.3120s -44.9767dB | min2:5.4062s -71.7467dB | max3:5.4495s -48.5885dB | min4:5.5443s -85.3891dB | max5:5.5844s -74.8381dB | min6:5.7417s -94.2208dB | max7:5.9693s -75.0007dB | min8:6.1052s -94.0321dB\n        #  not sure the taper recognition is important at all here, so just assert not breathing\n        assert not analysis8().window_at_seconds(5.2818).breathing\n        # min0:7.4516s -93.6818dB | max1:7.5109s -63.7591dB | min2:7.5271s -72.8285dB | max3:7.5286s -71.7537dB | min4:7.6615s -91.6643dB | max5:7.7083s -49.4017dB | min6:7.7547s -63.4935dB\n        assert not analysis8().window_at_seconds(7.4516).breathing\n\nclass TestLongSection_MixBreathType_SameTime:\n\n    def test_minute8_notsure_needs_anything(self):\n        # * mix of breathing and typing at the same time, not easy to see\n        # this might just be good justification to mute all gaps after left_taper and thru right_taper and into right a smidge too?\n        # min0:2.8807s -68.2929dB | max1:2.9448s -50.2128dB | min2:2.9562s -51.7313dB | max3:3.0552s -40.6008dB | min4:3.1052s -50.6274dB | max5:3.1479s -37.4752dB | min6:3.1802s -53.5313dB | max7:3.2245s -34.4287dB | min8:3.2677s -36.0308dB\n        pass\n\nclass TestBreathThenLongSection:\n\n    def test_detect_breathe_before_type(self):\n        # min0:1.3224s -73.4771dB | max1:1.4750s -48.4294dB | min2:1.6818s -82.7256dB | max3:1.7276s -52.8202dB | min4:1.8307s -88.9060dB | max5:1.8792s -73.4860dB | min6:1.8911s -74.9349dB | max7:1.9667s -52.2062dB | min8:2.0292s -67.1965dB | max9:2.0677s -59.7394dB | min10:2.1500s -82.8229dB | max11:2.1807s -76.9041dB | min12:2.2552s -91.7403dB | max13:2.3516s -67.2748dB | min14:2.3740s -74.0532dB\n        # hump is how you find this...\n        # 1. so, if > 5 material points( maybe say like 8+ ... based on examples)\n        # 2. look at taper then for the rounded hump of breathing (very flat near zero slope for 100-150+ms)\n        # IIRC this is only example so far...\n        analysis6().window_at_seconds(1.3224)\n\n        # ALSO super long hump\n        # min0:45.8625s -55.7050dB | max1:45.9536s -37.7099dB | min2:46.4344s -93.7528dB | max3:46.5297s -82.2258dB | min4:46.5812s -92.8418dB | max5:46.6297s -64.7991dB | min6:46.6568s -75.5326dB\n        analysis6().window_at_seconds(45.8625)\n\n        # ALSO (shorter gap but has breat hump, plus one type finger\n        # min0:54.9260s -57.6516dB | max1:54.9776s -49.9246dB | min2:55.0833s -82.6621dB | max3:55.0906s -80.9416dB | min4:55.1531s -91.6585dB\n        analysis6().window_at_seconds(54.9260)\n\n    def test_does_not_see_taper_t_as_breathe_before_type(self):\n        # right after breathe+type at 6.33s there is a taper_t that looks similar (no leveled off hump, but does show hill if you will)\n        # min0:6.3281s -45.0586dB | max1:6.3708s -33.4615dB | min2:6.4818s -75.7551dB | max3:6.5276s -47.2901dB | min4:6.6953s -93.7528dB | max5:6.7802s -41.8621dB | min6:6.8005s -49.8119dB | max7:6.8401s -43.3520dB | min8:6.8849s -49.7567dB | max9:6.9297s -41.3089dB | min10:7.0203s -55.3130dB | max11:7.0625s -45.5034dB | min12:7.0885s -58.8977dB | max13:7.1297s -42.8595dB | min14:7.1917s -53.3302dB | max15:7.2333s -48.8380dB | min16:7.2380s -52.4981dB | max17:7.2677s -46.8598dB | min18:7.2922s -51.6695dB | max19:7.3208s -42.6658dB | min20:7.3495s -50.4188dB | max21:7.3802s -45.4200dB | min22:7.4208s -58.6177dB | max23:7.4635s -46.8691dB | min24:7.5062s -56.5632dB | max25:7.5490s -49.5269dB | min26:7.5536s -51.3327dB | max27:7.5828s -46.6573dB | min28:7.6688s -67.6336dB\n        #\n        analysis6().window_at_seconds(6.33)\n\n    def test_long_section_breathing_in_middle(self):\n        # NOTHING TO DO HERE probably ... DONT WASTE TOO MUCH TIME\n        # odd hump too, very narrow at top so might not be detectable other than maybe the magnitude part\n        #   but it is very wide so that would be useful (170ms each of left/right halves)\n        # will be fine if I am silencing the middle anyways (noise gate)\n        # min0:17.6099s -93.7528dB | max1:17.7521s -90.8623dB | min2:17.7891s -93.7528dB | max3:17.8547s -84.0935dB | min4:17.9323s -93.7528dB | max5:18.6865s -60.0060dB | min6:18.8375s -93.7528dB | max7:18.9062s -73.1771dB | min8:19.0234s -93.7528dB | max9:19.1078s -85.7686dB | min10:19.1781s -93.2813dB | max11:19.2328s -74.6258dB | min12:19.2937s -86.2091dB | max13:19.3448s -73.7268dB | min14:19.4604s -93.7528dB | max15:19.5193s -74.5189dB | min16:19.7021s -93.2729dB | max17:19.7448s -80.0955dB | min18:19.8286s -93.7528dB | max19:19.9266s -70.7395dB | min20:20.0297s -91.9641dB | max21:20.2083s -36.5991dB | min22:20.4271s -80.9847dB | max23:20.4307s -74.9045dB | min24:20.5484s -93.7528dB\n        #\n        # hump CPs:\n        # min20.0297s -91.96dB  (left of breathing hump)\n        # max21:20.2083s -36.5991B (top)\n        # min22:20.4271s -80.9847dB (right of breathing hump)\n        pass\n\nclass TestBackToBackInconsequential_Skipped:\n\n    def test_minute5(self):\n        # cp2/cp3 are inconsequential, should be skipped, back to back (3 hops apart, < 1dB difference in y-value)\n        #  I could gate a little bit higher, or just skip these when it's obvious from x/y deltas\n        #\n        # min0:54.3500s -57.7805dB | max1:54.4312s -45.5440dB | min2:54.7208s -77.6351dB | max3:54.7224s -76.9973dB | min4:54.7724s -87.6577dB\n        # really is just 3 critical points... two are local tiny minimas that slipped past my gate threshold...\n        # but it is easy to see min3-min2 = 0.0016  that is too small to matter\n        #   plus dB values diff -76.9973 - -77.6351dB = 0.6378dB\n        #    inconsequentially tiny, that is not a hump of any material magnitude!\n        #     so lets put criteria together to skip these (both time is super short and dB under say 5dB (or 1 for now for this case and add more to threshold later if new cases arise?)\n        only_single_breathing_hump(analysis5(), 54.3500, 54.7724)\n        # TODO anything else for the hump that had moot cps but was really just simple breathing (minute 5)?? run and check this?\n\n    def test_minute6(self):\n        # min0:54.9260s -57.6516dB | max1:54.9776s -49.9246dB | min2:55.0833s -82.6621dB | max3:55.0906s -80.9416dB | min4:55.1531s -91.6585dB\n        # min2/3 s/b removed (one pair, back to back)\n        #   82.6621dB -  80.9416dB = <|fim_middle|> \n        only_single_breathing_hump(analysis6(), 54.9260, 55.1531)\n\n    def test_minute9(self):\n        # back to back width: 6 hops left, 2 hops right\n        win = analysis9().window_at_seconds(9.1500)\n        # w/o filtering on significant:\n        #   min0:9.0255s -45.0947dB | max1:9.0286s -41.5456dB | min2:9.0297s -43.3258dB | max3:9.0703s -32.7882dB | min4:9.1500s -76.7931dB | max5:9.2990s -45.9295dB | min6:9.7083s -90.0919dB\n        #   inconsequential are max0 to max2, skip max1/max2\n        # assert len(win.gap.crossovers) == 5\n        detects_left_taper_end(analysis9(), 9.1500)\n\nclass TestSingleBreathingHump:\n\n    def test_single_hump_breath_missing_critical_point(self):\n        # minute6 - left CP missing - min0:11.4995s -60.5834dB\n        # TODO missing critical point on left side of hump, WTF?!\n        # and the hump is CLEARLY visible!\n        # I should be able to detect missing CP from just half of it...\n        pass\n\n        # minute8 - right CP misssing - min0:41.1021s -57.9234dB\n        pass\n\n    def test_minute6_single_hump_breath(self):\n        # min0:13.9156s -76.4758dB | max1:14.1047s -43.4169dB | min2:14.3000s -79.7663dB\n        only_single_breathing_hump(analysis6(), 13.9156, 14.3000)\n        # min0:26.6120s -57.3047dB | max1:26.7385s -36.2640dB | min2:26.8969s -59.9716dB\n        only_single_breathing_hump(analysis6(), 26.6120, 26.8969)\n        # min0:27.4099s -61.1757dB | max1:27.4552s -51.5474dB | min2:27.5911s -89.3365dB\n        only_single_breathing_hump(analysis6(), 27.4099, 27.5911)\n        # min0:42.6781s -61.7802dB | max1:42.7964s -35.6056dB | min2:43.0427s -64.0108dB\n        only_single_breathing_hump(analysis6(), 42.6781, 43.0427)\n        # min0:52.8198s -54.4551dB | max1:52.9578s -36.4268dB | min2:53.2682s -81.1109dB\n        only_single_breathing_hump(analysis6(), 52.8198, 53.2682)\n        # min0:57.6536s -58.4826dB | max1:57.7641s -48.2108dB | min2:57.8396s -60.3455dB\n        only_single_breathing_hump(analysis6(), 57.6536, 57.8396)  # SHORT! and not very tall, but still breathing\n\n    def test_minute7_single_hump_breath(self):\n        assert len(analysis7().windows) == 20\n\n        # * normal breathing\n        only_single_breathing_hump(analysis7(), 6.91, 7.16)\n        only_single_breathing_hump(analysis7(), 11.03, 11.33)\n        only_single_breathing_hump(analysis7(), 13.61, 13.93)\n        only_single_breathing_hump(analysis7(), 15.18, 15.40)\n        only_single_breathing_hump(analysis7(), 18.49, 18.63)\n        only_single_breathing_hump(analysis7(), 21.09, 21.33)\n        only_single_breathing_hump(analysis7(), 23.70, 23.86)\n        only_single_breathing_hump(analysis7(), 27.05, 27.32)\n        only_single_breathing_hump(analysis7(), 29.22, 29.51)\n        # FYI this one has blue vertical lines at top of hump, if use those lines, then use this test to eliminate when slope == 0\n        only_single_breathing_hump(analysis7(), 32.58, 32.83)\n        only_single_breathing_hump(analysis7(), 34.43, 34.65)\n        # BREATHING (non-standard?)\n        only_single_breathing_hump(analysis7(), 37.98, 38.35)\n        only_single_breathing_hump(analysis7(), 41.91, 42.24)\n        only_single_breathing_hump(analysis7(), 52.99, 53.33)\n        only_single_breathing_hump(analysis7(), 55.20, 55.44)\n\n        return  # TODO! below?\n        # * not breathing => word is \"at\"\n        # * PATTERN: lazy_middle_m (middle leg is barely drawn, barely dips)\n        #    think breathing but w/ a hump that dips in the middle\n        #    140ms side to side of full m\n        #    ~40ms to max of first hump => 30ms to middle leg's lazy dip\n        #      mirror on way out\n        win43s = analysis7().windows[15]\n        assert win43s.gap.crossovers\n        # assert not win43s.breathing # TODO GET WORKING BY REJECTING 3 MINIMA with this little duration within a given subset (between minima)\n        only_single_breathing_hump(win43s, 43.69, 43.83)\n\n        # * typing fingers waveform\n        win46s = analysis7().windows[16]\n        assert not win46s.breathing\n        # min0:46.3167s -47.2853dB | max1:46.3505s -39.1514dB | min2:46.6266s -94.3020dB | max3:47.1578s -75.2083dB | min4:47.2547s -92.1545dB | max5:47.2995s -64.9374dB\n        # | min6:47.3948s -86.9671dB | max7:47.4391s -70.0614dB | min8:47.4510s -73.0575dB | max9:47.4568s -71.3409dB | min10:47.5854s -92.4671dB | max11:47.6906s -69.5855dB\n        # | min12:47.9583s -94.3020dB | max13:48.0708s -60.1251dB | min14:48.0849s -65.0497dB | max15:48.1755s -43.5629dB | min16:48.5620s -78.9731dB\n\n    def test_minute8(self):\n        # min0:45.1516s -64.6826dB | max1:45.2729s -43.9263dB | min2:45.4823s -64.7831dB\n```\n\n## Reminders about the cursor line:\nText before cursor: `        #   82.6621dB -  80.9416dB = `\nText after cursor: ` `"
      }]
  }
}